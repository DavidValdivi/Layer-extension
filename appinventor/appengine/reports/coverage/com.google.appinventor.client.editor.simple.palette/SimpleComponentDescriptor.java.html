<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>SimpleComponentDescriptor.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Coverage Report</a> &gt; <a href="index.source.html" class="el_package">com.google.appinventor.client.editor.simple.palette</a> &gt; <span class="el_source">SimpleComponentDescriptor.java</span></div><h1>SimpleComponentDescriptor.java</h1><pre class="source lang-java linenums">// -*- mode: java; c-basic-offset: 2; -*-
// Copyright 2009-2011 Google, All Rights reserved
// Copyright 2011-2022 MIT, All rights reserved
// Released under the Apache License, Version 2.0
// http://www.apache.org/licenses/LICENSE-2.0

package com.google.appinventor.client.editor.simple.palette;

import com.google.appinventor.client.Images;
import com.google.appinventor.client.Ode;

import com.google.appinventor.client.editor.simple.SimpleComponentDatabase;
import com.google.appinventor.client.editor.simple.SimpleEditor;

import com.google.appinventor.client.editor.simple.components.MockBall;
import com.google.appinventor.client.editor.simple.components.MockButton;
import com.google.appinventor.client.editor.simple.components.MockCanvas;
import com.google.appinventor.client.editor.simple.components.MockChart;
import com.google.appinventor.client.editor.simple.components.MockChartData2D;
import com.google.appinventor.client.editor.simple.components.MockCheckBox;
import com.google.appinventor.client.editor.simple.components.MockCircle;
import com.google.appinventor.client.editor.simple.components.MockCloudDB;
import com.google.appinventor.client.editor.simple.components.MockComponent;
import com.google.appinventor.client.editor.simple.components.MockContactPicker;
import com.google.appinventor.client.editor.simple.components.MockDataFile;
import com.google.appinventor.client.editor.simple.components.MockDatePicker;
import com.google.appinventor.client.editor.simple.components.MockEmailPicker;
import com.google.appinventor.client.editor.simple.components.MockFeatureCollection;
import com.google.appinventor.client.editor.simple.components.MockFirebaseDB;
import com.google.appinventor.client.editor.simple.components.MockFusionTablesControl;
import com.google.appinventor.client.editor.simple.components.MockSpreadsheet;
import com.google.appinventor.client.editor.simple.components.MockHorizontalArrangement;
import com.google.appinventor.client.editor.simple.components.MockImage;
import com.google.appinventor.client.editor.simple.components.MockImagePicker;
import com.google.appinventor.client.editor.simple.components.MockImageSprite;
import com.google.appinventor.client.editor.simple.components.MockLabel;
import com.google.appinventor.client.editor.simple.components.MockLineString;
import com.google.appinventor.client.editor.simple.components.MockListPicker;
import com.google.appinventor.client.editor.simple.components.MockListView;
import com.google.appinventor.client.editor.simple.components.MockMap;
import com.google.appinventor.client.editor.simple.components.MockMarker;
import com.google.appinventor.client.editor.simple.components.MockNonVisibleComponent;
import com.google.appinventor.client.editor.simple.components.MockPasswordTextBox;
import com.google.appinventor.client.editor.simple.components.MockPhoneNumberPicker;
import com.google.appinventor.client.editor.simple.components.MockPolygon;
import com.google.appinventor.client.editor.simple.components.MockRadioButton;
import com.google.appinventor.client.editor.simple.components.MockRectangle;
import com.google.appinventor.client.editor.simple.components.MockScrollHorizontalArrangement;
import com.google.appinventor.client.editor.simple.components.MockScrollVerticalArrangement;
import com.google.appinventor.client.editor.simple.components.MockSlider;
import com.google.appinventor.client.editor.simple.components.MockSpinner;
import com.google.appinventor.client.editor.simple.components.MockSwitch;
import com.google.appinventor.client.editor.simple.components.MockTableArrangement;
import com.google.appinventor.client.editor.simple.components.MockTextBox;
import com.google.appinventor.client.editor.simple.components.MockTimePicker;
import com.google.appinventor.client.editor.simple.components.MockTranslator;
import com.google.appinventor.client.editor.simple.components.MockVerticalArrangement;
import com.google.appinventor.client.editor.simple.components.MockVideoPlayer;
import com.google.appinventor.client.editor.simple.components.MockWebViewer;

import com.google.appinventor.shared.storage.StorageUtil;

import com.google.common.collect.Maps;

import com.google.gwt.resources.client.ImageResource;

import com.google.gwt.user.client.ui.Image;
import com.google.gwt.user.client.ui.Widget;

import java.util.Map;

/**
 * Descriptor for components on the component palette panel.
 * This class is immutable.
 *
 */
public final class SimpleComponentDescriptor {

  // Component display name
  private final String name;

  private final SimpleEditor editor;

  // Help information to display for component
  private final String helpString;

  // Whether External Component
  private final boolean external;

  // Goto documentation category URL piece
  private final String categoryDocUrlString;

  // Link to external documentation
  private final String helpUrl;

  // Whether to show the component on the palette
  private final boolean showOnPalette;

  // Whether the component has a visual representation in the app's UI
  private final boolean nonVisible;

  // an instantiated mockcomponent is currently necessary in order to
  // to get the image, category, and description
<span class="nc" id="L104">  private MockComponent cachedMockComponent = null;</span>

  // The version of the extension (meaning is defined by the extension author).
  private final int version;

  private final String versionName;

  private final String dateBuilt;

  // Component database: information about components (including their properties and events)
  private final SimpleComponentDatabase COMPONENT_DATABASE;

  /* We keep a static map of image names to images in the image bundle so
   * that we can avoid making individual calls to the server for static image
   * that are already in the bundle. This is purely an efficiency optimization
   * for mock non-visible components.
   */
<span class="nc" id="L121">  private static final Images images = Ode.getImageBundle();</span>
<span class="nc" id="L122">  private static final Map&lt;String, ImageResource&gt; bundledImages = Maps.newHashMap();</span>
<span class="nc" id="L123">  private static boolean imagesInitialized = false;</span>

  private static void initBundledImages() {
<span class="nc" id="L126">    bundledImages.put(&quot;images/accelerometersensor.png&quot;, images.accelerometersensor());</span>
<span class="nc" id="L127">    bundledImages.put(&quot;images/lightsensor.png&quot;, images.lightsensor());</span>
<span class="nc" id="L128">    bundledImages.put(&quot;images/barometer.png&quot;, images.barometer());</span>
<span class="nc" id="L129">    bundledImages.put(&quot;images/thermometer.png&quot;, images.thermometer());</span>
<span class="nc" id="L130">    bundledImages.put(&quot;images/hygrometer.png&quot;, images.hygrometer());</span>
<span class="nc" id="L131">    bundledImages.put(&quot;images/gyroscopesensor.png&quot;, images.gyroscopesensor());</span>
<span class="nc" id="L132">    bundledImages.put(&quot;images/nearfield.png&quot;, images.nearfield());</span>
<span class="nc" id="L133">    bundledImages.put(&quot;images/activityStarter.png&quot;, images.activitystarter());</span>
<span class="nc" id="L134">    bundledImages.put(&quot;images/barcodeScanner.png&quot;, images.barcodeScanner());</span>
<span class="nc" id="L135">    bundledImages.put(&quot;images/bluetooth.png&quot;, images.bluetooth());</span>
<span class="nc" id="L136">    bundledImages.put(&quot;images/camera.png&quot;, images.camera());</span>
<span class="nc" id="L137">    bundledImages.put(&quot;images/camcorder.png&quot;, images.camcorder());</span>
<span class="nc" id="L138">    bundledImages.put(&quot;images/clock.png&quot;, images.clock());</span>
<span class="nc" id="L139">    bundledImages.put(&quot;images/fusiontables.png&quot;, images.fusiontables());</span>
<span class="nc" id="L140">    bundledImages.put(&quot;images/gameClient.png&quot;, images.gameclient());</span>
<span class="nc" id="L141">    bundledImages.put(&quot;images/spreadsheet.png&quot;, images.spreadsheet());</span>
<span class="nc" id="L142">    bundledImages.put(&quot;images/locationSensor.png&quot;, images.locationSensor());</span>
<span class="nc" id="L143">    bundledImages.put(&quot;images/notifier.png&quot;, images.notifier());</span>
<span class="nc" id="L144">    bundledImages.put(&quot;images/legoMindstormsNxt.png&quot;, images.legoMindstormsNxt());</span>
<span class="nc" id="L145">    bundledImages.put(&quot;images/legoMindstormsEv3.png&quot;, images.legoMindstormsEv3());</span>
<span class="nc" id="L146">    bundledImages.put(&quot;images/orientationsensor.png&quot;, images.orientationsensor());</span>
<span class="nc" id="L147">    bundledImages.put(&quot;images/pedometer.png&quot;, images.pedometerComponent());</span>
<span class="nc" id="L148">    bundledImages.put(&quot;images/phoneip.png&quot;, images.phonestatusComponent());</span>
<span class="nc" id="L149">    bundledImages.put(&quot;images/phoneCall.png&quot;, images.phonecall());</span>
<span class="nc" id="L150">    bundledImages.put(&quot;images/player.png&quot;, images.player());</span>
<span class="nc" id="L151">    bundledImages.put(&quot;images/soundEffect.png&quot;, images.soundeffect());</span>
<span class="nc" id="L152">    bundledImages.put(&quot;images/soundRecorder.png&quot;, images.soundRecorder());</span>
<span class="nc" id="L153">    bundledImages.put(&quot;images/speechRecognizer.png&quot;, images.speechRecognizer());</span>
<span class="nc" id="L154">    bundledImages.put(&quot;images/textToSpeech.png&quot;, images.textToSpeech());</span>
<span class="nc" id="L155">    bundledImages.put(&quot;images/texting.png&quot;, images.texting());</span>
<span class="nc" id="L156">    bundledImages.put(&quot;images/datePicker.png&quot;, images.datePickerComponent());</span>
<span class="nc" id="L157">    bundledImages.put(&quot;images/timePicker.png&quot;, images.timePickerComponent());</span>
<span class="nc" id="L158">    bundledImages.put(&quot;images/tinyDB.png&quot;, images.tinyDB());</span>
<span class="nc" id="L159">    bundledImages.put(&quot;images/file.png&quot;, images.file());</span>
<span class="nc" id="L160">    bundledImages.put(&quot;images/tinyWebDB.png&quot;, images.tinyWebDB());</span>
<span class="nc" id="L161">    bundledImages.put(&quot;images/firebaseDB.png&quot;, images.firebaseDB());</span>
<span class="nc" id="L162">    bundledImages.put(&quot;images/twitter.png&quot;, images.twitterComponent());</span>
<span class="nc" id="L163">    bundledImages.put(&quot;images/voting.png&quot;, images.voting());</span>
<span class="nc" id="L164">    bundledImages.put(&quot;images/web.png&quot;, images.web());</span>
<span class="nc" id="L165">    bundledImages.put(&quot;images/mediastore.png&quot;, images.mediastore());</span>
<span class="nc" id="L166">    bundledImages.put(&quot;images/sharing.png&quot;, images.sharingComponent());</span>
<span class="nc" id="L167">    bundledImages.put(&quot;images/spinner.png&quot;, images.spinner());</span>
<span class="nc" id="L168">    bundledImages.put(&quot;images/listView.png&quot;, images.listview());</span>
<span class="nc" id="L169">    bundledImages.put(&quot;images/translator.png&quot;, images.translator());</span>
<span class="nc" id="L170">    bundledImages.put(&quot;images/yandex.png&quot;, images.yandex());</span>
<span class="nc" id="L171">    bundledImages.put(&quot;images/proximitysensor.png&quot;, images.proximitysensor());</span>
<span class="nc" id="L172">    bundledImages.put(&quot;images/extension.png&quot;, images.extension());</span>
<span class="nc" id="L173">    bundledImages.put(&quot;images/cloudDB.png&quot;, images.cloudDB());</span>
<span class="nc" id="L174">    bundledImages.put(&quot;images/map.png&quot;, images.map());</span>
<span class="nc" id="L175">    bundledImages.put(&quot;images/marker.png&quot;, images.marker());</span>
<span class="nc" id="L176">    bundledImages.put(&quot;images/circle.png&quot;, images.circle());</span>
<span class="nc" id="L177">    bundledImages.put(&quot;images/linestring.png&quot;, images.linestring());</span>
<span class="nc" id="L178">    bundledImages.put(&quot;images/polygon.png&quot;, images.polygon());</span>
<span class="nc" id="L179">    bundledImages.put(&quot;images/featurecollection.png&quot;, images.featurecollection());</span>
<span class="nc" id="L180">    bundledImages.put(&quot;images/recyclerView.png&quot;, images.recyclerview());</span>
<span class="nc" id="L181">    bundledImages.put(&quot;images/navigation.png&quot;, images.navigationComponent());</span>
<span class="nc" id="L182">    bundledImages.put(&quot;images/arduino.png&quot;, images.arduino());</span>
<span class="nc" id="L183">    bundledImages.put(&quot;images/magneticSensor.png&quot;, images.magneticSensor());</span>
<span class="nc" id="L184">    bundledImages.put(&quot;images/chart.png&quot;, images.chart());</span>
<span class="nc" id="L185">    bundledImages.put(&quot;images/chartData.png&quot;, images.chartData2D());</span>
<span class="nc" id="L186">    bundledImages.put(&quot;images/dataFile.png&quot;, images.dataFile());</span>

<span class="nc" id="L188">    imagesInitialized = true;</span>
<span class="nc" id="L189">  }</span>

  /**
   * Creates a new component descriptor.
   *
   * @param name  component display name
   */
  public SimpleComponentDescriptor(String name,
                                   SimpleEditor editor,
                                   int version,
                                   String versionName,
                                   String dateBuilt,
                                   String helpString,
                                   String helpUrl,
                                   String categoryDocUrlString,
                                   boolean showOnPalette,
                                   boolean nonVisible,
<span class="nc" id="L206">                                   boolean external) {</span>
<span class="nc" id="L207">    this.name = name;</span>
<span class="nc" id="L208">    this.editor = editor;</span>
<span class="nc" id="L209">    this.version = version;</span>
<span class="nc" id="L210">    this.versionName = versionName;</span>
<span class="nc" id="L211">    this.dateBuilt = dateBuilt;</span>
<span class="nc" id="L212">    this.helpString = helpString;</span>
<span class="nc" id="L213">    this.helpUrl = helpUrl;</span>
<span class="nc" id="L214">    this.categoryDocUrlString = categoryDocUrlString;</span>
<span class="nc" id="L215">    this.showOnPalette = showOnPalette;</span>
<span class="nc" id="L216">    this.nonVisible = nonVisible;</span>
<span class="nc" id="L217">    this.external = external;</span>
<span class="nc" id="L218">    COMPONENT_DATABASE = SimpleComponentDatabase.getInstance(editor.getProjectId());</span>
<span class="nc" id="L219">  }</span>

  /**
   * Returns the display name of the component.
   *
   * @return component display name
   */
  public String getName() {
<span class="nc" id="L227">    return name;</span>
  }

  /**
   * Returns the help string for the component.  For more detail, see
   * javadoc for
   * {@link com.google.appinventor.client.editor.simple.ComponentDatabase#getHelpString(String)}.
   *
   * @return helpful message about the component
   */
  public String getHelpString() {
<span class="nc" id="L238">    return helpString;</span>
  }

  /**
   * Returns the help URL for the component.  For more detail, see javadoc for
   * {@link com.google.appinventor.client.editor.simple.ComponentDatabase#getHelpUrl(String)}.
   *
   * @return URL to external documentation provided for an extension
   */
  public String getHelpUrl() {
<span class="nc" id="L248">    return helpUrl;</span>
  }

  /**
   * Returns the origin of the component
   * @return true if component is external
   */
  public boolean getExternal() {
<span class="nc" id="L256">    return external;</span>
  }
  /**
   * Returns the categoryDocUrl string for the component.  For more detail, see
   * javadoc for
   * {@link com.google.appinventor.client.editor.simple.ComponentDatabase#getCategoryDocUrlString(String)}.
   *
   * @return helpful message about the component
   */
  public String getCategoryDocUrlString() {
<span class="nc" id="L266">    return categoryDocUrlString;</span>
  }

  /**
   * Returns whether this component should be shown on the palette.  For more
   * detail, see javadoc for
   * {@link com.google.appinventor.client.editor.simple.ComponentDatabase#getHelpString(String)}.
   *
   * @return whether the component should be shown on the palette
   */
  public boolean getShowOnPalette() {
<span class="nc" id="L277">    return showOnPalette;</span>
  }

  /**
   * Returns whether this component is visible in the app's UI.  For more
   * detail, see javadoc for
   * {@link com.google.appinventor.client.editor.simple.ComponentDatabase#getHelpString(String)}.
   *
   * @return whether the component is non-visible
   */
  public boolean getNonVisible() {
<span class="nc" id="L288">    return nonVisible;</span>
  }

  /**
   * Returns an image for display on the component palette.
   *
   * @return  image for component
   */
  public Image getImage() {
<span class="nc bnc" id="L297" title="All 2 branches missed.">    if (nonVisible) {</span>
<span class="nc" id="L298">      String type = COMPONENT_DATABASE.getComponentType(name);</span>
<span class="nc" id="L299">      return getImageFromPath(COMPONENT_DATABASE.getIconName(name),</span>
<span class="nc" id="L300">          type.substring(0, type.lastIndexOf('.')),</span>
<span class="nc" id="L301">          editor.getProjectId());</span>
    } else {
<span class="nc" id="L303">      return getCachedMockComponent(name, editor).getIconImage();</span>
    }
  }

  /**
   * Returns the version of the component, if any.
   *
   * @return  component version string
   */
  public int getVersion() {
<span class="nc" id="L313">    return version;</span>
  }

  /**
   * Returns the custom version name of the component, if any.
   *
   * @return  component version name
   */
  public String getVersionName() {
<span class="nc" id="L322">    return versionName;</span>
  }

  /**
   * Returns the date the component was built, if any.
   *
   * @return  ISO 8601 formated date the component was built
   */
  public String getDateBuilt() {
<span class="nc" id="L331">    return dateBuilt;</span>
  }

  /**
   * Returns the path to the license file used by the component.
   *
   * @return path to license file of component
   */
  public String getLicense() {
<span class="nc" id="L340">    String type = COMPONENT_DATABASE.getComponentType(name);</span>
<span class="nc" id="L341">    return getLicenseURLFromPath(COMPONENT_DATABASE.getLicenseName(name),</span>
<span class="nc" id="L342">        type.substring(0, type.lastIndexOf('.')),</span>
<span class="nc" id="L343">        editor.getProjectId());</span>
  }

  /**
   * Returns a draggable image for the component. Used when dragging a
   * component from the palette onto the form.
   *
   * @return  draggable widget for component
   */
  public Widget getDragWidget() {
<span class="nc" id="L353">    return createMockComponent(name, COMPONENT_DATABASE.getComponentType(name), editor);</span>
  }

  /**
   * Instantiates the corresponding mock component.
   *
   * @return  mock component
   */
  public MockComponent createMockComponentFromPalette() {
<span class="nc" id="L362">    MockComponent mockComponent = createMockComponent(name,</span>
<span class="nc" id="L363">        COMPONENT_DATABASE.getComponentType(name), editor);</span>
<span class="nc" id="L364">    mockComponent.onCreateFromPalette();</span>
<span class="nc" id="L365">    return mockComponent;</span>
  }

  /**
   * Gets cached mock component; creates if necessary.
   */
  private MockComponent getCachedMockComponent(String name, SimpleEditor editor) {
<span class="nc bnc" id="L372" title="All 2 branches missed.">    if (cachedMockComponent == null) {</span>
<span class="nc" id="L373">      cachedMockComponent = createMockComponent(name,</span>
<span class="nc" id="L374">          COMPONENT_DATABASE.getComponentType(name), editor);</span>
    }
<span class="nc" id="L376">    return cachedMockComponent;</span>
  }

  public static Image getImageFromPath(String iconPath, String packageName, long projectId) {
<span class="nc bnc" id="L380" title="All 2 branches missed.">    if (!imagesInitialized) {</span>
<span class="nc" id="L381">      initBundledImages();</span>
    }
<span class="nc bnc" id="L383" title="All 4 branches missed.">    if (iconPath.startsWith(&quot;aiwebres/&quot;) &amp;&amp; packageName != null) {</span>
      // icon for extension
<span class="nc" id="L385">      Image image = new Image(StorageUtil.getFileUrl(projectId,</span>
          &quot;assets/external_comps/&quot; + packageName + &quot;/&quot; + iconPath));
<span class="nc" id="L387">      image.setWidth(&quot;16px&quot;);</span>
<span class="nc" id="L388">      image.setHeight(&quot;16px&quot;);</span>
<span class="nc" id="L389">      return image;</span>
    }
<span class="nc bnc" id="L391" title="All 2 branches missed.">    if (bundledImages.containsKey(iconPath)) {</span>
<span class="nc" id="L392">      return new Image(bundledImages.get(iconPath));</span>
    } else {
<span class="nc" id="L394">      return new Image(iconPath);</span>
    }
  }

  public static String getLicenseURLFromPath(String licensePath, String packageName, long projectId) {
<span class="nc bnc" id="L399" title="All 4 branches missed.">    if (licensePath.startsWith(&quot;aiwebres/&quot;) &amp;&amp; packageName != null) {</span>
      // License file is inside aiwebres
<span class="nc" id="L401">      return StorageUtil.getFileUrl(projectId,</span>
          &quot;assets/external_comps/&quot; + packageName + &quot;/&quot; + licensePath) + &quot;&amp;inline&quot;;
<span class="nc bnc" id="L403" title="All 4 branches missed.">    } else if(licensePath.startsWith(&quot;http:&quot;) || licensePath.startsWith(&quot;https:&quot;)) {</span>
      // The license is an external URL
<span class="nc" id="L405">      return licensePath;</span>
    } else {
      // No license file specified
<span class="nc" id="L408">      return &quot;&quot;;</span>
    }
  }

  /**
   * Instantiates mock component by name.
   */
  public static MockComponent createMockComponent(String name, String type, SimpleEditor editor) {
<span class="nc bnc" id="L416" title="All 2 branches missed.">    if (SimpleComponentDatabase.getInstance(editor.getProjectId()).getNonVisible(name)) {</span>
<span class="nc bnc" id="L417" title="All 2 branches missed.">      if(name.equals(MockFirebaseDB.TYPE)) {</span>
<span class="nc" id="L418">        return new MockFirebaseDB(editor, name,</span>
<span class="nc" id="L419">          getImageFromPath(SimpleComponentDatabase.getInstance(editor.getProjectId()).getIconName(name),</span>
<span class="nc" id="L420">            null, editor.getProjectId()));</span>
<span class="nc bnc" id="L421" title="All 2 branches missed.">      } else if(name.equals(MockCloudDB.TYPE)) {</span>
<span class="nc" id="L422">        return new MockCloudDB(editor, name,</span>
<span class="nc" id="L423">          getImageFromPath(SimpleComponentDatabase.getInstance(editor.getProjectId()).getIconName(name),</span>
<span class="nc" id="L424">            null, editor.getProjectId()));</span>
<span class="nc bnc" id="L425" title="All 2 branches missed.">      } else if(name.equals(MockFusionTablesControl.TYPE)) {</span>
<span class="nc" id="L426">        return new MockFusionTablesControl(editor, name,</span>
<span class="nc" id="L427">          getImageFromPath(SimpleComponentDatabase.getInstance(editor.getProjectId()).getIconName(name),</span>
<span class="nc" id="L428">            null, editor.getProjectId()));</span>
<span class="nc bnc" id="L429" title="All 2 branches missed.">      } else if(name.equals(MockTranslator.TYPE)) {</span>
<span class="nc" id="L430">        return new MockTranslator(editor, name,</span>
<span class="nc" id="L431">          getImageFromPath(SimpleComponentDatabase.getInstance(editor.getProjectId()).getIconName(name),</span>
<span class="nc" id="L432">            null, editor.getProjectId()));</span>
<span class="nc bnc" id="L433" title="All 2 branches missed.">      } else if(name.equals(MockSpreadsheet.TYPE)) {</span>
<span class="nc" id="L434">        return new MockSpreadsheet(editor, name,</span>
<span class="nc" id="L435">          getImageFromPath(SimpleComponentDatabase.getInstance(editor.getProjectId()).getIconName(name),</span>
<span class="nc" id="L436">            null, editor.getProjectId()));</span>
<span class="nc bnc" id="L437" title="All 2 branches missed.">      } else if (name.equals(MockDataFile.TYPE)) {</span>
<span class="nc" id="L438">        return new MockDataFile(editor, name,</span>
<span class="nc" id="L439">            getImageFromPath(SimpleComponentDatabase.getInstance(editor.getProjectId())</span>
<span class="nc" id="L440">                    .getIconName(name),</span>
<span class="nc" id="L441">                null, editor.getProjectId()));</span>
      } else {
<span class="nc bnc" id="L443" title="All 2 branches missed.">        String pkgName = type.contains(&quot;.&quot;) ? type.substring(0, type.lastIndexOf('.')) : null;</span>
<span class="nc" id="L444">        return new MockNonVisibleComponent(editor, name,</span>
<span class="nc" id="L445">          getImageFromPath(SimpleComponentDatabase.getInstance(editor.getProjectId()).getIconName(name),</span>
<span class="nc" id="L446">            pkgName, editor.getProjectId()));</span>
      }
<span class="nc bnc" id="L448" title="All 2 branches missed.">    } else if (name.equals(MockButton.TYPE)) {</span>
<span class="nc" id="L449">      return new MockButton(editor);</span>
<span class="nc bnc" id="L450" title="All 2 branches missed.">    } else if (name.equals(MockCanvas.TYPE)) {</span>
<span class="nc" id="L451">      return new MockCanvas(editor);</span>
<span class="nc bnc" id="L452" title="All 2 branches missed.">    } else if (name.equals(MockCheckBox.TYPE)) {</span>
<span class="nc" id="L453">      return new MockCheckBox(editor);</span>
<span class="nc bnc" id="L454" title="All 2 branches missed.">    } else if (name.equals(MockSwitch.TYPE)) {</span>
<span class="nc" id="L455">      return new MockSwitch(editor);</span>
<span class="nc bnc" id="L456" title="All 2 branches missed.">    } else if (name.equals(MockImage.TYPE)) {</span>
<span class="nc" id="L457">      return new MockImage(editor);</span>
<span class="nc bnc" id="L458" title="All 2 branches missed.">    } else if (name.equals(MockLabel.TYPE)) {</span>
<span class="nc" id="L459">      return new MockLabel(editor);</span>
<span class="nc bnc" id="L460" title="All 2 branches missed.">    } else if (name.equals(MockListView.TYPE)) {</span>
<span class="nc" id="L461">      return new MockListView(editor);</span>
<span class="nc bnc" id="L462" title="All 2 branches missed.">    } else if (name.equals(MockListView.TYPE)) {</span>
<span class="nc" id="L463">      return new MockListView(editor);</span>
<span class="nc bnc" id="L464" title="All 2 branches missed.">    } else if (name.equals(MockSlider.TYPE)) {</span>
<span class="nc" id="L465">      return new MockSlider(editor);</span>
<span class="nc bnc" id="L466" title="All 2 branches missed.">    } else if (name.equals(MockPasswordTextBox.TYPE)) {</span>
<span class="nc" id="L467">      return new MockPasswordTextBox(editor);</span>
<span class="nc bnc" id="L468" title="All 2 branches missed.">    } else if (name.equals(MockRadioButton.TYPE)) {</span>
<span class="nc" id="L469">      return new MockRadioButton(editor);</span>
<span class="nc bnc" id="L470" title="All 2 branches missed.">    } else if (name.equals(MockTextBox.TYPE)) {</span>
<span class="nc" id="L471">      return new MockTextBox(editor);</span>
<span class="nc bnc" id="L472" title="All 2 branches missed.">    } else if (name.equals(MockContactPicker.TYPE)) {</span>
<span class="nc" id="L473">      return new MockContactPicker(editor);</span>
<span class="nc bnc" id="L474" title="All 2 branches missed.">    } else if (name.equals(MockPhoneNumberPicker.TYPE)) {</span>
<span class="nc" id="L475">      return new MockPhoneNumberPicker(editor);</span>
<span class="nc bnc" id="L476" title="All 2 branches missed.">    } else if (name.equals(MockEmailPicker.TYPE)) {</span>
<span class="nc" id="L477">      return new MockEmailPicker(editor);</span>
<span class="nc bnc" id="L478" title="All 2 branches missed.">    } else if (name.equals(MockListPicker.TYPE)) {</span>
<span class="nc" id="L479">      return new MockListPicker(editor);</span>
<span class="nc bnc" id="L480" title="All 2 branches missed.">    } else if (name.equals(MockDatePicker.TYPE)) {</span>
<span class="nc" id="L481">      return new MockDatePicker(editor);</span>
<span class="nc bnc" id="L482" title="All 2 branches missed.">    } else if (name.equals(MockTimePicker.TYPE)) {</span>
<span class="nc" id="L483">      return new MockTimePicker(editor);</span>
<span class="nc bnc" id="L484" title="All 2 branches missed.">    } else if (name.equals(MockHorizontalArrangement.TYPE)) {</span>
<span class="nc" id="L485">      return new MockHorizontalArrangement(editor);</span>
<span class="nc bnc" id="L486" title="All 2 branches missed.">    } else if (name.equals(MockScrollHorizontalArrangement.TYPE)) {</span>
<span class="nc" id="L487">      return new MockScrollHorizontalArrangement(editor);</span>
<span class="nc bnc" id="L488" title="All 2 branches missed.">    } else if (name.equals(MockVerticalArrangement.TYPE)) {</span>
<span class="nc" id="L489">      return new MockVerticalArrangement(editor);</span>
<span class="nc bnc" id="L490" title="All 2 branches missed.">    } else if (name.equals(MockScrollVerticalArrangement.TYPE)) {</span>
<span class="nc" id="L491">      return new MockScrollVerticalArrangement(editor);</span>
<span class="nc bnc" id="L492" title="All 2 branches missed.">    } else if (name.equals(MockTableArrangement.TYPE)) {</span>
<span class="nc" id="L493">      return new MockTableArrangement(editor);</span>
<span class="nc bnc" id="L494" title="All 2 branches missed.">    } else if (name.equals(MockImageSprite.TYPE)) {</span>
<span class="nc" id="L495">      return new MockImageSprite(editor);</span>
<span class="nc bnc" id="L496" title="All 2 branches missed.">    } else if (name.equals(MockBall.TYPE)) {</span>
<span class="nc" id="L497">      return new MockBall(editor);</span>
<span class="nc bnc" id="L498" title="All 2 branches missed.">    } else if (name.equals(MockImagePicker.TYPE)) {</span>
<span class="nc" id="L499">      return new MockImagePicker(editor);</span>
<span class="nc bnc" id="L500" title="All 2 branches missed.">    } else if (name.equals(MockVideoPlayer.TYPE)) {</span>
<span class="nc" id="L501">      return new MockVideoPlayer(editor);</span>
<span class="nc bnc" id="L502" title="All 2 branches missed.">    } else if (name.equals(MockWebViewer.TYPE)) {</span>
<span class="nc" id="L503">      return new MockWebViewer(editor);</span>
<span class="nc bnc" id="L504" title="All 2 branches missed.">    } else if (name.equals(MockSpinner.TYPE)) {</span>
<span class="nc" id="L505">      return new MockSpinner(editor);</span>
<span class="nc bnc" id="L506" title="All 2 branches missed.">    } else if (name.equals(MockMap.TYPE)) {</span>
<span class="nc" id="L507">      return new MockMap(editor);</span>
<span class="nc bnc" id="L508" title="All 2 branches missed.">    } else if (name.equals(MockMarker.TYPE)) {</span>
<span class="nc" id="L509">      return new MockMarker(editor);</span>
<span class="nc bnc" id="L510" title="All 2 branches missed.">    } else if (name.equals(MockCircle.TYPE)) {</span>
<span class="nc" id="L511">      return new MockCircle(editor);</span>
<span class="nc bnc" id="L512" title="All 2 branches missed.">    } else if (name.equals(MockLineString.TYPE)) {</span>
<span class="nc" id="L513">      return new MockLineString(editor);</span>
<span class="nc bnc" id="L514" title="All 2 branches missed.">    } else if (name.equals(MockPolygon.TYPE)) {</span>
<span class="nc" id="L515">      return new MockPolygon(editor);</span>
<span class="nc bnc" id="L516" title="All 2 branches missed.">    } else if (name.equals(MockRectangle.TYPE)) {</span>
<span class="nc" id="L517">      return new MockRectangle(editor);</span>
<span class="nc bnc" id="L518" title="All 2 branches missed.">    } else if (name.equals(MockFeatureCollection.TYPE)) {</span>
<span class="nc" id="L519">      return new MockFeatureCollection(editor);</span>
<span class="nc bnc" id="L520" title="All 2 branches missed.">    } else if (name.equals(MockChart.TYPE)) {</span>
<span class="nc" id="L521">      return new MockChart(editor);</span>
<span class="nc bnc" id="L522" title="All 2 branches missed.">    } else if (name.equals(MockChartData2D.TYPE)) {</span>
<span class="nc" id="L523">      return new MockChartData2D(editor);</span>
    } else {
      // TODO(user): add 3rd party mock component proxy here
<span class="nc" id="L526">      throw new UnsupportedOperationException(&quot;unknown component: &quot; + name);</span>
    }
  }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.8.202204050719</span></div></body></html>