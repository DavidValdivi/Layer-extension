<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>PropertiesUtil.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Coverage Report</a> &gt; <a href="index.source.html" class="el_package">com.google.appinventor.client.editor.simple.components.utils</a> &gt; <span class="el_source">PropertiesUtil.java</span></div><h1>PropertiesUtil.java</h1><pre class="source lang-java linenums">// -*- mode: java; c-basic-offset: 2; -*-
// Copyright 2009-2011 Google, All Rights reserved
// Copyright 2011-2022 MIT, All rights reserved
// Released under the Apache License, Version 2.0
// http://www.apache.org/licenses/LICENSE-2.0

package com.google.appinventor.client.editor.simple.components.utils;

import com.google.appinventor.client.ComponentsTranslation;

import com.google.appinventor.client.editor.simple.components.MockComponent;
import com.google.appinventor.client.editor.simple.components.MockForm;

import com.google.appinventor.client.editor.youngandroid.YaFormEditor;

import com.google.appinventor.client.editor.youngandroid.palette.YoungAndroidPalettePanel;

import com.google.appinventor.client.editor.youngandroid.properties.YoungAndroidAccelerometerSensitivityChoicePropertyEditor;
import com.google.appinventor.client.editor.youngandroid.properties.YoungAndroidAlignmentChoicePropertyEditor;
import com.google.appinventor.client.editor.youngandroid.properties.YoungAndroidAssetSelectorPropertyEditor;
import com.google.appinventor.client.editor.youngandroid.properties.YoungAndroidBooleanPropertyEditor;
import com.google.appinventor.client.editor.youngandroid.properties.YoungAndroidButtonShapeChoicePropertyEditor;
import com.google.appinventor.client.editor.youngandroid.properties.YoungAndroidChartLineTypeChoicePropertyEditor;
import com.google.appinventor.client.editor.youngandroid.properties.YoungAndroidChartPointShapeChoicePropertyEditor;
import com.google.appinventor.client.editor.youngandroid.properties.YoungAndroidChartTypeChoicePropertyEditor;
import com.google.appinventor.client.editor.youngandroid.properties.YoungAndroidColorChoicePropertyEditor;
import com.google.appinventor.client.editor.youngandroid.properties.YoungAndroidComponentSelectorPropertyEditor;
import com.google.appinventor.client.editor.youngandroid.properties.YoungAndroidDataColumnSelectorProperty;
import com.google.appinventor.client.editor.youngandroid.properties.YoungAndroidDefaultURLPropertyEditor;
import com.google.appinventor.client.editor.youngandroid.properties.YoungAndroidFileScopePropertyEditor;
import com.google.appinventor.client.editor.youngandroid.properties.YoungAndroidFloatRangePropertyEditor;
import com.google.appinventor.client.editor.youngandroid.properties.YoungAndroidFontTypefaceChoicePropertyEditor;
import com.google.appinventor.client.editor.youngandroid.properties.YoungAndroidGeoJSONPropertyEditor;
import com.google.appinventor.client.editor.youngandroid.properties.YoungAndroidGeographicPointPropertyEditor;
import com.google.appinventor.client.editor.youngandroid.properties.YoungAndroidHorizontalAlignmentChoicePropertyEditor;
import com.google.appinventor.client.editor.youngandroid.properties.YoungAndroidIntegerRangePropertyEditor;
import com.google.appinventor.client.editor.youngandroid.properties.YoungAndroidLegoEv3ColorSensorModeChoicePropertyEditor;
import com.google.appinventor.client.editor.youngandroid.properties.YoungAndroidLegoEv3GyroSensorModeChoicePropertyEditor;
import com.google.appinventor.client.editor.youngandroid.properties.YoungAndroidLegoEv3SensorPortChoicePropertyEditor;
import com.google.appinventor.client.editor.youngandroid.properties.YoungAndroidLegoEv3UltrasonicSensorModeChoicePropertyEditor;
import com.google.appinventor.client.editor.youngandroid.properties.YoungAndroidLegoNxtSensorPortChoicePropertyEditor;
import com.google.appinventor.client.editor.youngandroid.properties.YoungAndroidLengthPropertyEditor;
import com.google.appinventor.client.editor.youngandroid.properties.YoungAndroidListViewAddDataPropertyEditor;
import com.google.appinventor.client.editor.youngandroid.properties.YoungAndroidListViewLayoutChoicePropertyEditor;
import com.google.appinventor.client.editor.youngandroid.properties.YoungAndroidMapScaleUnitsPropertyEditor;
import com.google.appinventor.client.editor.youngandroid.properties.YoungAndroidMapTypePropertyEditor;
import com.google.appinventor.client.editor.youngandroid.properties.YoungAndroidNavigationMethodChoicePropertyEditor;
import com.google.appinventor.client.editor.youngandroid.properties.YoungAndroidRecyclerViewOrientationPropertyEditor;
import com.google.appinventor.client.editor.youngandroid.properties.YoungAndroidScreenAnimationChoicePropertyEditor;
import com.google.appinventor.client.editor.youngandroid.properties.YoungAndroidScreenOrientationChoicePropertyEditor;
import com.google.appinventor.client.editor.youngandroid.properties.YoungAndroidSensorDistIntervalChoicePropertyEditor;
import com.google.appinventor.client.editor.youngandroid.properties.YoungAndroidSensorTimeIntervalChoicePropertyEditor;
import com.google.appinventor.client.editor.youngandroid.properties.YoungAndroidSizingChoicePropertyEditor;
import com.google.appinventor.client.editor.youngandroid.properties.YoungAndroidTextReceivingPropertyEditor;
import com.google.appinventor.client.editor.youngandroid.properties.YoungAndroidThemeChoicePropertyEditor;
import com.google.appinventor.client.editor.youngandroid.properties.YoungAndroidToastLengthChoicePropertyEditor;
import com.google.appinventor.client.editor.youngandroid.properties.YoungAndroidVerticalAlignmentChoicePropertyEditor;

import com.google.appinventor.client.properties.BadPropertyEditorException;
import com.google.appinventor.client.properties.Property;

import com.google.appinventor.client.widgets.properties.ChoicePropertyEditor;
import com.google.appinventor.client.widgets.properties.CountryChoicePropertyEditor;
import com.google.appinventor.client.widgets.properties.EditableProperties;
import com.google.appinventor.client.widgets.properties.EditableProperty;
import com.google.appinventor.client.widgets.properties.FloatPropertyEditor;
import com.google.appinventor.client.widgets.properties.IntegerPropertyEditor;
import com.google.appinventor.client.widgets.properties.LanguageChoicePropertyEditor;
import com.google.appinventor.client.widgets.properties.NonNegativeFloatPropertyEditor;
import com.google.appinventor.client.widgets.properties.NonNegativeIntegerPropertyEditor;
import com.google.appinventor.client.widgets.properties.PropertyEditor;
import com.google.appinventor.client.widgets.properties.ScalingChoicePropertyEditor;
import com.google.appinventor.client.widgets.properties.StringPropertyEditor;
import com.google.appinventor.client.widgets.properties.SubsetJSONPropertyEditor;
import com.google.appinventor.client.widgets.properties.TextAreaPropertyEditor;
import com.google.appinventor.client.widgets.properties.TextPropertyEditor;

import com.google.appinventor.components.common.PropertyTypeConstants;

import com.google.appinventor.shared.simple.ComponentDatabaseInterface;

import java.util.Collections;
import java.util.HashSet;
import java.util.List;

/**
 * Provides utility functions for dealing with the UI for component properties.
 *
 * These functions are called by descendants of MockComponent with its protected
 * field &quot;properties&quot; as an argument. This EditableProperties object is populated
 * by {@link YoungAndroidPalettePanel#configureComponent(MockComponent)}, which
 * calls {@link MockComponent#addProperty(String, String, String, PropertyEditor)}
 * for each of the MockComponent's properties. The addProperty method in turn calls
 * {@link EditableProperties#addProperty(String, String, String, PropertyEditor, int)},
 * adding the property to &quot;properties&quot;.
 *
 * @author hal@mit.edu (Hal Abelson)
 */
public class PropertiesUtil {
  // Construct a HashSet of acceptable Chart Data Source components
<span class="nc" id="L101">  private static final HashSet&lt;String&gt; CHART_DATA_SOURCES = new HashSet&lt;String&gt;() {{</span>
<span class="nc" id="L102">      add(&quot;DataFile&quot;);</span>
<span class="nc" id="L103">      add(&quot;TinyDB&quot;);</span>
<span class="nc" id="L104">      add(&quot;CloudDB&quot;);</span>
<span class="nc" id="L105">      add(&quot;AccelerometerSensor&quot;);</span>
<span class="nc" id="L106">      add(&quot;BluetoothClient&quot;);</span>
<span class="nc" id="L107">      add(&quot;Web&quot;);</span>
<span class="nc" id="L108">      add(&quot;GyroscopeSensor&quot;);</span>
<span class="nc" id="L109">      add(&quot;OrientationSensor&quot;);</span>
<span class="nc" id="L110">      add(&quot;ProximitySensor&quot;);</span>
<span class="nc" id="L111">      add(&quot;Pedometer&quot;);</span>
<span class="nc" id="L112">      add(&quot;LocationSensor&quot;);</span>
<span class="nc" id="L113">      add(&quot;Spreadsheet&quot;);</span>
<span class="nc" id="L114">    }};</span>


  /**
   * Prevent instantiation.
   */
  private PropertiesUtil() {
  }

  /**
   * Populate properties of a MockComponent, given a list of property definitions
   * @param mockComponent
   * @param propertyDefinitions
   */
  public static void populateProperties(MockComponent mockComponent, List&lt;ComponentDatabaseInterface.PropertyDefinition&gt; propertyDefinitions,
                                        YaFormEditor editor) {

<span class="nc" id="L131">    String componentType = mockComponent.getType();</span>
    // Configure properties
<span class="nc bnc" id="L133" title="All 2 branches missed.">    for (ComponentDatabaseInterface.PropertyDefinition property : propertyDefinitions) {</span>
<span class="nc" id="L134">      mockComponent.addProperty(property.getName(), property.getDefaultValue(),</span>
<span class="nc" id="L135">          ComponentsTranslation.getPropertyName(property.getCaption()),</span>
<span class="nc" id="L136">          property.getEditorType(), property.getEditorArgs(),</span>
<span class="nc" id="L137">          PropertiesUtil.createPropertyEditor(property.getEditorType(), property.getDefaultValue(), editor, property.getEditorArgs()));</span>
      /*OdeLog.log(&quot;Property Caption: &quot; + property.getCaption() + &quot;, &quot;
          + TranslationComponentProperty.getName(property.getCaption()));*/
<span class="nc" id="L140">    }</span>

<span class="nc" id="L142">  }</span>

  // Use individual methods for each property since we can't write the generic
  // getExistingPropertyEditor due to type safety issues - see below.

  /**
   * Retrieves the property editor for Horizontal Alignment.
   *
   * @param  properties
   * @return the property editor for Horizontal Alignment
   * @throws BadPropertyEditorException
   */
  public static  YoungAndroidHorizontalAlignmentChoicePropertyEditor
  getHAlignmentEditor(EditableProperties properties)
      throws BadPropertyEditorException {

<span class="nc" id="L158">    PropertyEditor propEditor = null;</span>

    // Get the property with the specified name from the properties
    // object. This works because an EditableProperties contains a
    // TreeMap&lt;String, T extends Property&gt; that maps a property's name to its instance.
<span class="nc" id="L163">    Property prop = properties.getProperty(MockForm.PROPERTY_NAME_HORIZONTAL_ALIGNMENT);</span>

<span class="nc bnc" id="L165" title="All 2 branches missed.">    if (prop != null) {</span>
<span class="nc bnc" id="L166" title="All 2 branches missed.">      if (prop instanceof EditableProperty) {</span>
        // Cast prop to an EditableProperty and get its editor
<span class="nc" id="L168">        propEditor = ((EditableProperty) prop).getEditor();</span>

        // Make sure we have the right editor
<span class="nc bnc" id="L171" title="All 2 branches missed.">        if (propEditor != null) {</span>
<span class="nc bnc" id="L172" title="All 2 branches missed.">          if (! (propEditor instanceof YoungAndroidHorizontalAlignmentChoicePropertyEditor))</span>
<span class="nc" id="L173">            throw new BadPropertyEditorException(&quot;Bad property editor&quot;);</span>
        }
      }
    }

    // Cast propEditor to the appropriate type
<span class="nc" id="L179">    return (YoungAndroidHorizontalAlignmentChoicePropertyEditor)propEditor;</span>
  }

  /**
   * Retrieves the property editor for Vertical Alignment.
   * Note that this is almost identical to {@link #getHAlignmentEditor(EditableProperties)}
   * in terms of implementation.
   *
   * @param  properties
   * @return the property editor for Vertical Alignment
   * @throws BadPropertyEditorException
   */
  public static  YoungAndroidVerticalAlignmentChoicePropertyEditor
  getVAlignmentEditor(EditableProperties properties)
      throws BadPropertyEditorException {

<span class="nc" id="L195">    PropertyEditor propEditor = null;</span>
<span class="nc" id="L196">    Property prop = properties.getProperty(MockForm.PROPERTY_NAME_VERTICAL_ALIGNMENT);</span>
<span class="nc bnc" id="L197" title="All 2 branches missed.">    if (prop != null) {</span>
<span class="nc bnc" id="L198" title="All 2 branches missed.">      if (prop instanceof EditableProperty) {</span>
<span class="nc" id="L199">        propEditor = ((EditableProperty) prop).getEditor();</span>
<span class="nc bnc" id="L200" title="All 2 branches missed.">        if (propEditor != null) {</span>
<span class="nc bnc" id="L201" title="All 2 branches missed.">          if (! (propEditor instanceof YoungAndroidVerticalAlignmentChoicePropertyEditor))</span>
<span class="nc" id="L202">            throw new BadPropertyEditorException(&quot;Bad property editor&quot;);</span>
        }
      }
    }
<span class="nc" id="L206">    return (YoungAndroidVerticalAlignmentChoicePropertyEditor)propEditor;</span>
  }

  /*
   * Creates a new property editor.
   */
  public static PropertyEditor createPropertyEditor(String editorType, String defaultValue, YaFormEditor editor, String[] editorArgs) {
<span class="nc bnc" id="L213" title="All 2 branches missed.">    if (editorType.equals(PropertyTypeConstants.PROPERTY_TYPE_HORIZONTAL_ALIGNMENT)) {</span>
<span class="nc" id="L214">      return new YoungAndroidHorizontalAlignmentChoicePropertyEditor();</span>
<span class="nc bnc" id="L215" title="All 2 branches missed.">    } else if (editorType.equals(PropertyTypeConstants.PROPERTY_TYPE_VERTICAL_ALIGNMENT)) {</span>
<span class="nc" id="L216">      return new YoungAndroidVerticalAlignmentChoicePropertyEditor();</span>
<span class="nc bnc" id="L217" title="All 2 branches missed.">    } else if (editorType.equals(PropertyTypeConstants.PROPERTY_TYPE_ASSET)) {</span>
<span class="nc" id="L218">      return new YoungAndroidAssetSelectorPropertyEditor(editor);</span>
<span class="nc bnc" id="L219" title="All 2 branches missed.">    } else if (editorType.equals(PropertyTypeConstants.PROPERTY_TYPE_BLUETOOTHCLIENT)) {</span>
<span class="nc" id="L220">      return new YoungAndroidComponentSelectorPropertyEditor(editor,</span>
          // Pass the set of component types that will be shown in the property editor,
          // in this case, just &quot;BluetoothClient&quot;.
<span class="nc" id="L223">          Collections.singleton(&quot;BluetoothClient&quot;));</span>
<span class="nc bnc" id="L224" title="All 2 branches missed.">    } else if (editorType.equals(PropertyTypeConstants.PROPERTY_TYPE_BOOLEAN)) {</span>
<span class="nc" id="L225">      return new YoungAndroidBooleanPropertyEditor();</span>
<span class="nc bnc" id="L226" title="All 2 branches missed.">    } else if (editorType.equals(PropertyTypeConstants.PROPERTY_TYPE_BUTTON_SHAPE)) {</span>
<span class="nc" id="L227">      return new YoungAndroidButtonShapeChoicePropertyEditor();</span>
<span class="nc bnc" id="L228" title="All 2 branches missed.">    } else if (editorType.equals(PropertyTypeConstants.PROPERTY_TYPE_COLOR)) {</span>
<span class="nc" id="L229">      return new YoungAndroidColorChoicePropertyEditor(defaultValue);</span>
<span class="nc bnc" id="L230" title="All 2 branches missed.">    } else if (editorType.equals(PropertyTypeConstants.PROPERTY_TYPE_COMPONENT)) {</span>
<span class="nc" id="L231">      return new YoungAndroidComponentSelectorPropertyEditor(editor);</span>
<span class="nc bnc" id="L232" title="All 2 branches missed.">    } else if (editorType.equals(PropertyTypeConstants.PROPERTY_TYPE_FILESCOPE)) {</span>
<span class="nc" id="L233">      return new YoungAndroidFileScopePropertyEditor();</span>
<span class="nc bnc" id="L234" title="All 2 branches missed.">    } else if (editorType.equals(PropertyTypeConstants.PROPERTY_TYPE_FLOAT)) {</span>
<span class="nc" id="L235">      return new FloatPropertyEditor();</span>
<span class="nc bnc" id="L236" title="All 2 branches missed.">    } else if (editorType.equals(PropertyTypeConstants.PROPERTY_TYPE_GEOGRAPHIC_POINT)) {</span>
<span class="nc" id="L237">      return new YoungAndroidGeographicPointPropertyEditor();</span>
<span class="nc bnc" id="L238" title="All 2 branches missed.">    } else if (editorType.equals(PropertyTypeConstants.PROPERTY_TYPE_GEOJSON_TYPE)) {</span>
<span class="nc" id="L239">      return new YoungAndroidGeoJSONPropertyEditor(editor);</span>
<span class="nc bnc" id="L240" title="All 2 branches missed.">    } else if (editorType.equals(PropertyTypeConstants.PROPERTY_TYPE_SUBSET_JSON)) {</span>
<span class="nc" id="L241">      return new SubsetJSONPropertyEditor();</span>
<span class="nc bnc" id="L242" title="All 2 branches missed.">    } else if (editorType.equals(PropertyTypeConstants.PROPERTY_TYPE_INTEGER)) {</span>
<span class="nc" id="L243">      return new IntegerPropertyEditor();</span>
<span class="nc bnc" id="L244" title="All 2 branches missed.">    } else if (editorType.equals(PropertyTypeConstants.PROPERTY_TYPE_LATITUDE)) {</span>
<span class="nc" id="L245">      return new YoungAndroidFloatRangePropertyEditor(-90, 90);</span>
<span class="nc bnc" id="L246" title="All 2 branches missed.">    } else if (editorType.equals(PropertyTypeConstants.PROPERTY_TYPE_LEGO_EV3_SENSOR_PORT)) {</span>
<span class="nc" id="L247">      return new YoungAndroidLegoEv3SensorPortChoicePropertyEditor();</span>
<span class="nc bnc" id="L248" title="All 2 branches missed.">    } else if (editorType.equals(PropertyTypeConstants.PROPERTY_TYPE_LEGO_EV3_COLOR_SENSOR_MODE)) {</span>
<span class="nc" id="L249">      return new YoungAndroidLegoEv3ColorSensorModeChoicePropertyEditor();</span>
<span class="nc bnc" id="L250" title="All 2 branches missed.">    } else if (editorType.equals(PropertyTypeConstants.PROPERTY_TYPE_LEGO_EV3_ULTRASONIC_SENSOR_MODE)) {</span>
<span class="nc" id="L251">      return new YoungAndroidLegoEv3UltrasonicSensorModeChoicePropertyEditor();</span>
<span class="nc bnc" id="L252" title="All 2 branches missed.">    } else if (editorType.equals(PropertyTypeConstants.PROPERTY_TYPE_LEGO_EV3_GYRO_SENSOR_MODE)) {</span>
<span class="nc" id="L253">      return new YoungAndroidLegoEv3GyroSensorModeChoicePropertyEditor();</span>
<span class="nc bnc" id="L254" title="All 2 branches missed.">    } else if (editorType.equals(PropertyTypeConstants.PROPERTY_TYPE_CHOICES)) {</span>
<span class="nc" id="L255">      return new ChoicePropertyEditor(editorArgs);</span>
<span class="nc bnc" id="L256" title="All 2 branches missed.">    } else if (editorType.equals(PropertyTypeConstants.PROPERTY_TYPE_LEGO_NXT_SENSOR_PORT)) {</span>
<span class="nc" id="L257">      return new YoungAndroidLegoNxtSensorPortChoicePropertyEditor();</span>
<span class="nc bnc" id="L258" title="All 2 branches missed.">    } else if (editorType.equals(PropertyTypeConstants.PROPERTY_TYPE_LEGO_NXT_GENERATED_COLOR)) {</span>
<span class="nc" id="L259">      return new YoungAndroidColorChoicePropertyEditor(</span>
          YoungAndroidColorChoicePropertyEditor.NXT_GENERATED_COLORS, defaultValue);
<span class="nc bnc" id="L261" title="All 2 branches missed.">    } else if (editorType.equals(PropertyTypeConstants.PROPERTY_TYPE_LENGTH)) {</span>
<span class="nc" id="L262">      return new YoungAndroidLengthPropertyEditor();</span>
<span class="nc bnc" id="L263" title="All 2 branches missed.">    } else if (editorType.equals(PropertyTypeConstants.PROPERTY_TYPE_LONGITUDE)) {</span>
<span class="nc" id="L264">      return new YoungAndroidFloatRangePropertyEditor(-180, 180);</span>
<span class="nc bnc" id="L265" title="All 2 branches missed.">    } else if (editorType.equals(PropertyTypeConstants.PROPERTY_TYPE_MAP_TYPE)) {</span>
<span class="nc" id="L266">      return new YoungAndroidMapTypePropertyEditor();</span>
<span class="nc bnc" id="L267" title="All 2 branches missed.">    } else if (editorType.equals(PropertyTypeConstants.PROPERTY_TYPE_MAP_UNIT_SYSTEM)) {</span>
<span class="nc" id="L268">      return new YoungAndroidMapScaleUnitsPropertyEditor();</span>
<span class="nc bnc" id="L269" title="All 2 branches missed.">    } else if (editorType.equals(PropertyTypeConstants.PROPERTY_TYPE_MAP_ZOOM)) {</span>
<span class="nc" id="L270">      return new YoungAndroidIntegerRangePropertyEditor(1, 18);</span>
<span class="nc bnc" id="L271" title="All 2 branches missed.">    } else if (editorType.equals(PropertyTypeConstants.PROPERTY_TYPE_NAVIGATION_METHOD)) {</span>
<span class="nc" id="L272">      return new YoungAndroidNavigationMethodChoicePropertyEditor();</span>
<span class="nc bnc" id="L273" title="All 2 branches missed.">    } else if (editorType.equals(PropertyTypeConstants.PROPERTY_TYPE_NON_NEGATIVE_FLOAT)) {</span>
<span class="nc" id="L274">      return new NonNegativeFloatPropertyEditor();</span>
<span class="nc bnc" id="L275" title="All 2 branches missed.">    } else if (editorType.equals(PropertyTypeConstants.PROPERTY_TYPE_NON_NEGATIVE_INTEGER)) {</span>
<span class="nc" id="L276">      return new NonNegativeIntegerPropertyEditor();</span>
<span class="nc bnc" id="L277" title="All 2 branches missed.">    } else if (editorType.equals(PropertyTypeConstants.PROPERTY_TYPE_SCREEN_ORIENTATION)) {</span>
<span class="nc" id="L278">      return new YoungAndroidScreenOrientationChoicePropertyEditor();</span>
<span class="nc bnc" id="L279" title="All 2 branches missed.">    } else if (editorType.equals(PropertyTypeConstants.PROPERTY_TYPE_SCREEN_ANIMATION)) {</span>
<span class="nc" id="L280">      return new YoungAndroidScreenAnimationChoicePropertyEditor();</span>
<span class="nc bnc" id="L281" title="All 2 branches missed.">    } else if (editorType.equals(PropertyTypeConstants.PROPERTY_TYPE_SENSOR_DIST_INTERVAL)) {</span>
<span class="nc" id="L282">      return new YoungAndroidSensorDistIntervalChoicePropertyEditor();</span>
<span class="nc bnc" id="L283" title="All 2 branches missed.">    } else if (editorType.equals(PropertyTypeConstants.PROPERTY_TYPE_SENSOR_TIME_INTERVAL)) {</span>
<span class="nc" id="L284">      return new YoungAndroidSensorTimeIntervalChoicePropertyEditor();</span>
<span class="nc bnc" id="L285" title="All 2 branches missed.">    } else if (editorType.equals(PropertyTypeConstants.PROPERTY_TYPE_STRING)) {</span>
<span class="nc" id="L286">      return new StringPropertyEditor();</span>
<span class="nc bnc" id="L287" title="All 2 branches missed.">    } else if (editorType.equals(PropertyTypeConstants.PROPERTY_TYPE_TEXTALIGNMENT)) {</span>
<span class="nc" id="L288">      return new YoungAndroidAlignmentChoicePropertyEditor();</span>
<span class="nc bnc" id="L289" title="All 2 branches missed.">    } else if (editorType.equals(PropertyTypeConstants.PROPERTY_TYPE_TEXTAREA)) {</span>
<span class="nc" id="L290">      return new TextAreaPropertyEditor();</span>
<span class="nc bnc" id="L291" title="All 2 branches missed.">    } else if (editorType.equals(PropertyTypeConstants.PROPERTY_TYPE_THEME)) {</span>
<span class="nc" id="L292">      return new YoungAndroidThemeChoicePropertyEditor();</span>
<span class="nc bnc" id="L293" title="All 2 branches missed.">    } else if (editorType.equals(PropertyTypeConstants.PROPERTY_TYPE_TOAST_LENGTH)) {</span>
<span class="nc" id="L294">      return new YoungAndroidToastLengthChoicePropertyEditor();</span>
<span class="nc bnc" id="L295" title="All 2 branches missed.">    } else if (editorType.equals(PropertyTypeConstants.PROPERTY_TYPE_TYPEFACE)) {</span>
<span class="nc" id="L296">      return new YoungAndroidFontTypefaceChoicePropertyEditor(editor);</span>
<span class="nc bnc" id="L297" title="All 2 branches missed.">    } else if (editorType.equals(PropertyTypeConstants.PROPERTY_TYPE_VISIBILITY)) {</span>
<span class="nc" id="L298">      return new YoungAndroidBooleanPropertyEditor();</span>
<span class="nc bnc" id="L299" title="All 2 branches missed.">    } else if (editorType.equals(PropertyTypeConstants.PROPERTY_TYPE_TEXT_RECEIVING)) {</span>
<span class="nc" id="L300">      return new YoungAndroidTextReceivingPropertyEditor();</span>
<span class="nc bnc" id="L301" title="All 2 branches missed.">    } else if (editorType.equals(PropertyTypeConstants.PROPERTY_TYPE_ACCELEROMETER_SENSITIVITY)) {</span>
<span class="nc" id="L302">      return new YoungAndroidAccelerometerSensitivityChoicePropertyEditor();</span>
<span class="nc bnc" id="L303" title="All 2 branches missed.">    } else if (editorType.equals(PropertyTypeConstants.PROPERTY_TYPE_TEXT_TO_SPEECH_COUNTRIES)) {</span>
<span class="nc" id="L304">      return new CountryChoicePropertyEditor();</span>
<span class="nc bnc" id="L305" title="All 2 branches missed.">    } else if (editorType.equals(PropertyTypeConstants.PROPERTY_TYPE_TEXT_TO_SPEECH_LANGUAGES)) {</span>
<span class="nc" id="L306">      return new LanguageChoicePropertyEditor();</span>
<span class="nc bnc" id="L307" title="All 2 branches missed.">    } else if (editorType.equals(PropertyTypeConstants.PROPERTY_TYPE_SIZING)) {</span>
<span class="nc" id="L308">      return new YoungAndroidSizingChoicePropertyEditor();</span>
<span class="nc bnc" id="L309" title="All 2 branches missed.">    } else if (editorType.equals(PropertyTypeConstants.PROPERTY_TYPE_SCALING)) {</span>
<span class="nc" id="L310">      return new ScalingChoicePropertyEditor();</span>
<span class="nc bnc" id="L311" title="All 2 branches missed.">    } else if (editorType.equals(PropertyTypeConstants.PROPERTY_TYPE_FIREBASE_URL)) {</span>
<span class="nc" id="L312">      return new YoungAndroidDefaultURLPropertyEditor(&quot;DEFAULT&quot;);</span>
<span class="nc bnc" id="L313" title="All 2 branches missed.">    } else if (editorType.equals(PropertyTypeConstants.PROPERTY_TYPE_LISTVIEW_ADD_DATA)) {</span>
<span class="nc" id="L314">      return new YoungAndroidListViewAddDataPropertyEditor(editor);</span>
<span class="nc bnc" id="L315" title="All 2 branches missed.">    } else if (editorType.equals(PropertyTypeConstants.PROPERTY_TYPE_LISTVIEW_LAYOUT)) {</span>
<span class="nc" id="L316">      return new YoungAndroidListViewLayoutChoicePropertyEditor();</span>
<span class="nc bnc" id="L317" title="All 2 branches missed.">    } else if (editorType.startsWith(PropertyTypeConstants.PROPERTY_TYPE_COMPONENT + &quot;:&quot;)) {</span>
<span class="nc" id="L318">      String type = editorType.substring(PropertyTypeConstants.PROPERTY_TYPE_COMPONENT.length() + 2);</span>
<span class="nc" id="L319">      type = type.substring(type.lastIndexOf('.') + 1);</span>
<span class="nc" id="L320">      return new YoungAndroidComponentSelectorPropertyEditor(editor, Collections.singleton(type));</span>
<span class="nc bnc" id="L321" title="All 2 branches missed.">    } else if (editorType.equals(PropertyTypeConstants.PROPERTY_TYPE_CHART_TYPE)) {</span>
<span class="nc" id="L322">      return new YoungAndroidChartTypeChoicePropertyEditor();</span>
<span class="nc bnc" id="L323" title="All 2 branches missed.">    } else if (editorType.equals(PropertyTypeConstants.PROPERTY_TYPE_DATA_FILE_COLUMN)) {</span>
<span class="nc" id="L324">      return new YoungAndroidDataColumnSelectorProperty(editor);</span>
<span class="nc bnc" id="L325" title="All 2 branches missed.">    } else if (editorType.equals(PropertyTypeConstants.PROPERTY_TYPE_CHART_DATA_SOURCE)) {</span>
<span class="nc" id="L326">      return new YoungAndroidComponentSelectorPropertyEditor(editor, CHART_DATA_SOURCES);</span>
<span class="nc bnc" id="L327" title="All 2 branches missed.">    } else if (editorType.equals(PropertyTypeConstants.PROPERTY_TYPE_CHART_PIE_RADIUS)) {</span>
<span class="nc" id="L328">      return new YoungAndroidIntegerRangePropertyEditor(0, 100);</span>
<span class="nc bnc" id="L329" title="All 2 branches missed.">    } else if (editorType.equals(PropertyTypeConstants.PROPERTY_TYPE_CHART_POINT_SHAPE)) {</span>
<span class="nc" id="L330">      return new YoungAndroidChartPointShapeChoicePropertyEditor();</span>
<span class="nc bnc" id="L331" title="All 2 branches missed.">    } else if (editorType.equals(PropertyTypeConstants.PROPERTY_TYPE_CHART_LINE_TYPE)) {</span>
<span class="nc" id="L332">      return new YoungAndroidChartLineTypeChoicePropertyEditor();</span>
<span class="nc bnc" id="L333" title="All 2 branches missed.">    } else if (editorType.equals(PropertyTypeConstants.PROPERTY_TYPE_RECYCLERVIEW_ORIENTATION)) {</span>
<span class="nc" id="L334">      return new YoungAndroidRecyclerViewOrientationPropertyEditor(); </span>
    } else {
<span class="nc" id="L336">      return new TextPropertyEditor();</span>
    }
  }




  // TODO(hal):  The individual property methods above should be replaced by a single generic
  // method getExistingPropertyEditor that
  // retrieves the property editor for the named property and checks its type.  Here's how the
  // code should go.  While this compiles in Java, it sadly
  // does not compile in GWT, which has not yet implemented type-safe generic casting.
  // Sigh.  Well, maybe someday.

// /**
//  * Returns the existing property editor for the given name.
//  *
//  * @throws IllegalStateException  if no such property editor exists, or if
//  * the editor does not have the required class
//  * @param name  property name
//  * @param C the required class of class of the property editor
//  */

// public &lt;T extends PropertyEditor&gt;T getExistingPropertyEditor(String name, Class&lt;T&gt; C)
//     throws BadPropertyEditorException {
//   PropertyEditor propEditor= null;
//   Property prop = getProperty(name);
//   if (! (prop == null)) {
//     if (prop instanceof EditableProperty) {
//       propEditor = ((EditableProperty) prop).getEditor();
//       if (! (propEditor == null)) {
//         if (! (C.isAssignableFrom(propEditor.getClass()))) {
//           throw new BadPropertyEditorException(&quot;Bad property editor&quot;);
//         }
//       }
//     }
//   }
//   return C.cast(propEditor);
// }


}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.8.202204050719</span></div></body></html>